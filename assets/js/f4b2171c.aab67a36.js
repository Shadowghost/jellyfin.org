(self.webpackChunkjellyfin_org=self.webpackChunkjellyfin_org||[]).push([[1042],{7557:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImgComparisonSlider=void 0;const s=r(n(7294));"undefined"!=typeof document&&Promise.resolve().then((()=>a(n(9058))));t.ImgComparisonSlider=({children:e,...t})=>{const n=s.default.createRef();return s.default.useEffect((()=>{void 0!==t.value&&(n.current.value=t.value)}),[t.value,n]),s.default.createElement("img-comparison-slider",Object.assign({class:t.className?`${t.className} rendered`:"rendered",tabIndex:0,ref:n},t),e)}},3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return c}});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),h=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=h(e.components);return i.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=h(n),c=o,m=p["".concat(l,".").concat(c)]||p[c]||d[c]||a;return n?i.createElement(m,r(r({ref:t},u),{},{components:n})):i.createElement(m,r({ref:t},u))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var h=2;h<a;h++)r[h]=n[h];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9875:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return h},toc:function(){return u},default:function(){return p}});var i=n(2122),o=n(9756),a=(n(7294),n(3905)),r=n(7557),s={title:"Jellyfin Release - v10.5.0",author:"Julien Machiels",author_url:"https://github.com/MrTimscampi",author_image_url:"https://avatars.githubusercontent.com/u/19396809?v=4",tags:["release","server"],description:"Our biggest release yet"},l=void 0,h={permalink:"/blog/2020/03/07/jellyfin-10-5-0",source:"@site/blog/2020-03-07-jellyfin-10-5-0.mdx",title:"Jellyfin Release - v10.5.0",description:"Our biggest release yet",date:"2020-03-07T00:00:00.000Z",formattedDate:"March 7, 2020",tags:[{label:"release",permalink:"/blog/tags/release"},{label:"server",permalink:"/blog/tags/server"}],readingTime:4.805,truncated:!0,prevItem:{title:"Jellyfin: Now on Xbox One (UPDATED)",permalink:"/blog/2020/04/22/jellyfin-xbox"},nextItem:{title:"Jellyfin for Kodi Release - v0.5.0",permalink:"/blog/2020/03/04/kodi-0-5-0"}},u=[{value:"Web client",id:"web-client",children:[]},{value:"Server",id:"server",children:[]},{value:"Documentation",id:"documentation",children:[]},{value:"Looking towards the future",id:"looking-towards-the-future",children:[]}],d={toc:u};function p(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A myriad of improvements, bugfixes, and a look towards the future."),(0,a.kt)("p",null,"With ",(0,a.kt)("strong",{parentName:"p"},"over 200 contributions")," and ",(0,a.kt)("strong",{parentName:"p"},"over 500 issues closed"),", this is our biggest release yet. We're releasing a bit before the expected Christmas deadline, but our anniversary release packs a lot of new features."),(0,a.kt)("div",{className:"margin-bottom--md"},(0,a.kt)("a",{href:"/downloads/",className:"button button--primary margin-right--md"},"Download Jellyfin 10.5.0"),(0,a.kt)("a",{href:"https://github.com/jellyfin/jellyfin/releases/tag/v10.5.0",className:"button button--secondary"},"Read the full release notes")),(0,a.kt)("p",null,"This post will feature some of the main enhancements available in Jellyfin version 10.5.0. For an exhaustive list of all the changes, you can find a complete list on ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/jellyfin/jellyfin/releases/tag/v10.5.0"},"GitHub"),"."),(0,a.kt)("h2",{id:"web-client"},"Web client"),(0,a.kt)("p",null,"This cycle, part of our focus was on improving the look and feel of the web client."),(0,a.kt)(r.ImgComparisonSlider,{className:"margin-bottom--md",mdxType:"ImgComparisonSlider"},(0,a.kt)("img",{slot:"before",src:"/static/img/posts/jellyfin-10-5-0/old-home.jpg"}),(0,a.kt)("img",{slot:"after",src:"/static/img/posts/jellyfin-10-5-0/new-home.jpg"})),(0,a.kt)("p",null,"The web client now uses the ",(0,a.kt)("strong",{parentName:"p"},"Noto Sans")," font for all the languages we ship with. This makes for a more consistent experience and ensures that ",(0,a.kt)("strong",{parentName:"p"},"multilingual libraries look unified"),"."),(0,a.kt)("p",null,"Jellyfin 10.5.0 ships with the Latin, Greek, Chinese, Japanese, Korean, Arabic, Cyrillic, Hebrew, Vietnamese and Devanagari versions of the Noto font, optimized for the web."),(0,a.kt)(r.ImgComparisonSlider,{className:"margin-bottom--md",mdxType:"ImgComparisonSlider"},(0,a.kt)("img",{slot:"before",src:"/static/img/posts/jellyfin-10-5-0/old-details.png"}),(0,a.kt)("img",{slot:"after",src:"/static/img/posts/jellyfin-10-5-0/new-details.png"})),(0,a.kt)("p",null,"The most noticeable visual change is the ",(0,a.kt)("strong",{parentName:"p"},"new details page layout"),". It puts the artwork of your library front and center while looking more modern and polished."),(0,a.kt)("p",null,"We have also completely ",(0,a.kt)("strong",{parentName:"p"},"overhauled SSA/ASS subtitle support"),". Through the use of asm.js and Web Assembly, we now provide improved rendering for these formats, fixing some long-standing issues for anime lovers. Note that this feature is still experimental. If you notice lag in the rendering of complex effects, you can enable burn-in by selecting ",(0,a.kt)("em",{parentName:"p"},"All complex formats")," in ",(0,a.kt)("em",{parentName:"p"},"User Settings > Subtitles > Burn subtitles"),"."),(0,a.kt)("p",null,"However, most of the new developments in the web client are not immediately visible. We spent a lot of time preparing and cleaning the code for future improvements."),(0,a.kt)("img",{"data-label":"10.5.0",src:"/static/img/posts/jellyfin-10-5-0/webos-icons.png",name:""}),(0,a.kt)("p",null,"A few long-standing issues for WebOS have been fixed as well, bringing us a bit closer to the release of the WebOS app. Among these, icons are now properly working and the client has been reported to work on both WebOS 3 and WebOS 4. We also have plans for the next release that should improve compatibility with earlier WebOS versions and streamline the support of clients using older browser versions as a base. Navigation in the TV layout has also been substantially improved, paving the way for navigation using a remote."),(0,a.kt)("p",null,"Finally, several performance and responsiveness issues have been addressed. A rogue gamepad input loop is now properly handled, which prevents unnecessary repaintings by the browser and should improve performance. A previously disabled fade-in effect for images has also been enabled, making loading into a new page look smoother. It is now also possible to upload artwork in WEBP format."),(0,a.kt)("h2",{id:"server"},"Server"),(0,a.kt)("p",null,"This cycle, our server team ported the code over to .NET Core 3.1. This move makes new features available to our developers, including support for ARM64 for Linux, compatibility with TLS v1.3 and better garbage collection on Docker, allowing for better memory usage when running in a container."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Support for AMD AMF hardware encoding")," is now available on Windows and Linux. We also improved DVD support when added as folders. The metadata provider for TheMovieDB now handles season images. Furthermore, various issues with media scanning, base URLs and DLNA were fixed. ",(0,a.kt)("strong",{parentName:"p"},"Full hardware acceleration")," for Raspberry Pi is also now supported for older models. For Raspeberry Pi 4, hardware-accelerated encoding for H264 is now supported on Raspbian, both using the LinuxServer.io Docker and the repository package."),(0,a.kt)("p",null,"As part of a project to move the core metadata providers to plugins, MusicBrainz is now a default plugin and allows you to configure the URL of the instance you want to pull data from. This allows you to host an instance of MusicBrainz and sidestep the global rate limiting enforced by the main service."),(0,a.kt)("p",null,"In addition to all these improvements, more tests have been added on the server-side to help developers track down issues with new and existing code. This ensures a faster development time and helps prevents regressions, which will now be caught earlier through automated testing."),(0,a.kt)("h2",{id:"documentation"},"Documentation"),(0,a.kt)("p",null,"Our documentation team has also been hard at work improving both the user and developer documentation."),(0,a.kt)("p",null,"Of note recently are the overhauls to the ",(0,a.kt)("a",{parentName:"p",href:"https://jellyfin.org/docs/general/networking/index.html"},"Networking")," and ",(0,a.kt)("a",{parentName:"p",href:"https://jellyfin.org/docs/general/administration/hardware-acceleration.html"},"Hardware Acceleration")," sections."),(0,a.kt)("p",null,"We now provide an extensive ",(0,a.kt)("a",{parentName:"p",href:"https://jellyfin.org/docs/general/clients/codec-support.html"},"Codec Support")," list and help on ",(0,a.kt)("a",{parentName:"p",href:"https://jellyfin.org/docs/general/clients/css-customization.html"},"CSS Customization"),", with examples of useful CSS customizations to apply to your server via the Administration dashboard."),(0,a.kt)("h2",{id:"looking-towards-the-future"},"Looking towards the future"),(0,a.kt)("p",null,"A lot is happening in the world of Jellyfin recently. Since the release of Jellyfin 10.4.0, we have seen a lot of new contributors joining the team and the speed of development has tremendously accelerated."),(0,a.kt)("p",null,"With the influx of contributors, we have a few large scale projects for both the server and the web client that should bring a ton of improvements to Jellyfin. More information is already available on ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/jellyfin/"},"GitHub")," if you want to take part in the discussion or implementation."),(0,a.kt)("p",null,"We'd like to thank all the contributors to this release for their hard work and dedication to making the best FOSS media server possible."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Abbe98/"},"Abbe98")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/anthonylavado/"},"anthonylavado")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Artiume/"},"Artiume")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Bond-009/"},"Bond-009")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/bugfixin/"},"bugfixin")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/cvium/"},"cvium")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/dhartung/"},"dhartung")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/dinki/"},"dinki")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/dkanada/"},"dkanada")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/dmitrylyzo/"},"dmitrylyzo")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/DrPandemic/"},"DrPandemic")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/EraYaN/"},"EraYaN")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/ferferga/"},"ferferga")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/grafixeyehero/"},"grafixeyehero")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/joshuaboniface/"},"joshuaboniface")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/JustAMan/"},"JustAMan")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/LogicalPhallacy/"},"LogicalPhallacy")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/mark-monteiro/"},"mark-monteiro")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/MrTimscampi/"},"MrTimscampi")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Narfinger/"},"Narfinger")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Nickbert7/"},"Nickbert7")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/nvllsvm/"},"nvllsvm")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/nyanmisaka/"},"nyanmisaka")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/oddstr13/"},"oddstr13")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/ploughpuff/"},"ploughpuff")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/redSpoutnik/"},"redSpoutnik")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/sparky8251/"},"sparky8251")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/thornbill/"},"thornbill")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/vitorsemeano/"},"vitorsemeano")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/Wunax/"},"Wunax")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/YouKnowBlom/"},"YouKnowBlom"))),(0,a.kt)("p",null,"If you'd like to take part in the development of Jellyfin, most of the contributors are available on ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/jellyfin/"},"GitHub")," or via ",(0,a.kt)("a",{parentName:"p",href:"/contact/"},"any of the ways on our contact page"),"."))}p.isMDXComponent=!0},9058:function(){(()=>{"use strict";var e={90:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(645),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,':host{--divider-width: 1px;--divider-color: #fff;--divider-shadow: none;--default-handle-width: 50px;--default-handle-color: #fff;--default-handle-opacity: 1;--default-handle-shadow: none;position:relative;display:inline-block;overflow:hidden;line-height:0;direction:ltr}@media screen and (-webkit-min-device-pixel-ratio: 0)and (min-resolution: 0.001dpcm){:host{outline-offset:1px}}::slotted(*){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.first{position:absolute;left:0;top:0;line-height:normal;font-size:100%;--exposure: 50%;--transition-time: 0ms;transform:translateX(calc(var(--exposure) * -1));transition:transform var(--transition-time)}.first .first-overlay-container{position:relative;transform:translateX(var(--exposure));transition:transform var(--transition-time)}.first .first-overlay{overflow:hidden}.second{position:relative}.handle-container{transform:translateX(50%);position:absolute;top:0;right:0;height:100%;display:flex;align-items:flex-end;justify-content:center;flex-direction:column}.divider{position:absolute;height:100%;width:100%;left:0;top:0;display:flex;align-items:center;justify-content:center;flex-direction:column}.divider:after{content:" ";display:block;height:100%;border-left-width:var(--divider-width);border-left-style:solid;border-left-color:var(--divider-color);box-shadow:var(--divider-shadow)}.handle{pointer-events:none;box-sizing:border-box;margin-left:1px;transform:translateX(-0.5px)}.default-handle{width:var(--default-handle-width);opacity:var(--default-handle-opacity);transition:all 1s;filter:drop-shadow(var(--default-handle-shadow))}.default-handle path{stroke:var(--default-handle-color)}',""]);const a=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={id:i,exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(90);const t="rendered",i=document.createElement("template");i.innerHTML=`<style>${e.Z}</style><div class="second" id="second"> <slot name="second"><slot name="before"></slot></slot> </div> <div class="first" id="first"> <div class="first-overlay"> <div class="first-overlay-container" id="firstImageContainer"> <slot name="first"><slot name="after"></slot></slot> </div> </div> <div class="handle-container"> <div class="divider"></div> <div class="handle"> <slot name="handle"> <svg xmlns="http://www.w3.org/2000/svg" class="default-handle" viewBox="-8 -3 16 6"> <path d="M -5 -2 L -7 0 L -5 2 M 5 -2 L 7 0 L 5 2" fill="none" vector-effect="non-scaling-stroke"/> </svg> </slot> </div> </div> </div> `;const o={ArrowLeft:-1,ArrowRight:1},a=e=>({x:e.touches[0].pageX,y:e.touches[0].pageY});class r extends HTMLElement{constructor(){super(),this.exposure=this.hasAttribute("value")?parseFloat(this.getAttribute("value")):50,this.isMouseDown=!1,this.isFocused=!1,this.onWindowMouseMove=e=>{this.isMouseDown&&this.slideToPageX(e.pageX)},this.bodyUserSelectStyle="",this.onMouseDown=e=>{window.addEventListener("mousemove",this.onWindowMouseMove),window.addEventListener("mouseup",this.onWindowMouseUp),this.isMouseDown=!0,this.enableTransition(),this.slideToPageX(e.pageX),this.focus(),this.bodyUserSelectStyle=window.document.body.style.userSelect,window.document.body.style.userSelect="none"},this.onWindowMouseUp=()=>{this.isMouseDown=!1,window.document.body.style.userSelect=this.bodyUserSelectStyle,window.removeEventListener("mousemove",this.onWindowMouseMove),window.removeEventListener("mouseup",this.onWindowMouseUp)},this.isTouchComparing=!1,this.hasTouchMoved=!1,this.onTouchStart=e=>{this.touchStartPoint=a(e),this.isFocused&&(this.enableTransition(),this.slideToPageX(e.touches[0].pageX))},this.onTouchMove=e=>{if(this.isTouchComparing)return this.slideToPageX(e.touches[0].pageX),e.preventDefault(),!1;if(!this.hasTouchMoved){const t=a(e);if(Math.abs(t.y-this.touchStartPoint.y)<Math.abs(t.x-this.touchStartPoint.x))return this.isTouchComparing=!0,this.focus(),this.slideToPageX(e.touches[0].pageX),e.preventDefault(),!1;this.hasTouchMoved=!0}},this.onTouchEnd=()=>{this.isTouchComparing=!1,this.hasTouchMoved=!1},this.onBlur=()=>{this.stopSlideAnimation(),this.isFocused=!1},this.onFocus=()=>{this.isFocused=!0},this.onKeyDown=e=>{if(this.isAnimating)return;this.isAnimating=!0;const t=e.key;void 0!==o[t]&&this.startSlideAnimation(o[t])},this.onKeyUp=e=>{this.isAnimating&&void 0!==o[e.key]&&this.stopSlideAnimation()},this.resetWidth=()=>{this.imageWidth=this.offsetWidth};const e=this.attachShadow({mode:"open"});e.appendChild(i.content.cloneNode(!0)),this.firstElement=e.getElementById("first"),this.firstImageContainerElement=e.getElementById("firstImageContainer"),this.secondElement=e.getElementById("second")}get value(){return this.exposure}set value(e){this.exposure=parseFloat(e),this.slide()}connectedCallback(){this.hasAttribute("tabindex")||(this.tabIndex=0),this.addEventListener("dragstart",(e=>(e.preventDefault(),!1))),new ResizeObserver(this.resetWidth).observe(this),this.slide(0),this.addEventListener("keydown",this.onKeyDown),this.addEventListener("keyup",this.onKeyUp),this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("touchstart",this.onTouchStart),this.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.addEventListener("touchend",this.onTouchEnd),this.addEventListener("mousedown",this.onMouseDown),this.resetWidth(),this.classList.contains(t)||this.classList.add(t),this.querySelectorAll('[slot="before"], [slot="after"]').length>0&&console.warn('<img-comparison-slider>: slot names "before" and "after" are deprecated and soon won\'t be supported. Please use slot="first" instead of slot="after", and slot="second" instead of slot="before".')}disconnectedCallback(){this.transitionTimer&&window.clearTimeout(this.transitionTimer)}slide(e=0){var t;this.exposure=(t=this.exposure+e)<0?0:t>100?100:t,this.firstElement.style.setProperty("--exposure",100-this.exposure+"%")}slideToPageX(e){const t=e-this.getBoundingClientRect().left-window.scrollX;this.exposure=t/this.imageWidth*100,this.slide(0)}enableTransition(){this.firstElement.style.setProperty("--transition-time","100ms"),this.transitionTimer=window.setTimeout((()=>{this.firstElement.style.setProperty("--transition-time","0ms"),this.transitionTimer=null}),100)}startSlideAnimation(e){let t=null;const n=i=>{null===t&&(t=i);const o=(i-t)/16.666666666666668*e;this.slide(o),this.isAnimating&&(window.requestAnimationFrame(n),t=i)};window.requestAnimationFrame(n)}stopSlideAnimation(){this.isAnimating=!1}}window.customElements.define("img-comparison-slider",r)})()})()}}]);