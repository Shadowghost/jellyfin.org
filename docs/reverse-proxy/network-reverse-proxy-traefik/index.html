<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Jellyfin Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Jellyfin Blog Atom Feed"><title data-react-helmet="true">Traefik v1.x | Jellyfin</title><meta data-react-helmet="true" property="og:url" content="http://next.jellyfin.org/docs/reverse-proxy/network-reverse-proxy-traefik"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="og:type" content="website"><meta data-react-helmet="true" name="twitter:site" content="@jellyfin"><meta data-react-helmet="true" property="og:title" content="Traefik v1.x | Jellyfin"><meta data-react-helmet="true" name="description" content="Traefik v1.x"><meta data-react-helmet="true" property="og:description" content="Traefik v1.x"><meta data-react-helmet="true" property="og:image" content="http://next.jellyfin.org/img/social.png"><meta data-react-helmet="true" name="twitter:image" content="http://next.jellyfin.org/img/social.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://next.jellyfin.org/docs/reverse-proxy/network-reverse-proxy-traefik"><link data-react-helmet="true" rel="alternate" href="http://next.jellyfin.org/docs/reverse-proxy/network-reverse-proxy-traefik" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://next.jellyfin.org/docs/reverse-proxy/network-reverse-proxy-traefik" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7ff4a8cc.css">
<link rel="preload" href="/assets/js/runtime~main.143f2ea0.js" as="script">
<link rel="preload" href="/assets/js/main.11cab31a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Jellyfin logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Jellyfin logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/features">Features</a><a class="navbar__item navbar__link" href="/clients">Clients</a><a class="navbar__item navbar__link" href="/plugins">Plugins</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a class="navbar__item navbar__link" href="/contribute">Contribute</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/getting-started">Documentation</a><a class="navbar__item navbar__link" href="/contact">Contact</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Jellyfin logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Jellyfin logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/features">Features</a></li><li class="menu__list-item"><a class="menu__link" href="/clients">Clients</a></li><li class="menu__list-item"><a class="menu__link" href="/plugins">Plugins</a></li><li class="menu__list-item"><a class="menu__link" href="/downloads">Downloads</a></li><li class="menu__list-item"><a class="menu__link" href="/contribute">Contribute</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/getting-started">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/contact">Contact</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installing-jellyfin">Installing the server</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/admin-building">Building from source</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/setup-live-tv">Setting up live TV</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Client configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/clients/kodi">Kodi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/clients/mopidy">Installing Mopidy Extension</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/clients/clients-web-config">Jellyfin Web Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Server configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/general-configuration">General information</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/admin-hardware-acceleration">Hardware Acceleration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/networking">Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/configuration/admin-troubleshoot">Troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Organizing your media</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/media/server-media-books">Books</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/media/server-media-internet-radio">Internet radio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/media/server-media-movies">Movies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/media/server-media-music">Music</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/media/server-media-shows">Shows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/media/server-media-subtitles">Subtitles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugins/server-plugins-index">Installing plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugins/server-plugins-open-subtitles">Open Subtitles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugins/server-plugins-tvheadend">TVHeadend</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Using with a reverse proxy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reverse-proxy/network-reverse-proxy-apache">Apache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reverse-proxy/network-reverse-proxy-caddy">Caddy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reverse-proxy/network-reverse-proxy-haproxy">HAProxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reverse-proxy/network-reverse-proxy-nginx">Nginx</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reverse-proxy/network-reverse-proxy-traefik">Traefik v1.x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reverse-proxy/network-reverse-proxy-traefik2">Traefik v2.x</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Server administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-devices">Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/network-dlna">DLNA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-libraries">Libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/live-tv">Live TV</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-notifications">Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-quick-connect">Quick Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-settings">Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-storage">Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-tasks">Tasks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/server-transcoding">Transcoding</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Users</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/users/server-users-managing">Managing Users</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server/users/server-users-index">Users</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tips &amp; tricks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tips-and-tricks/clients-css-customization">CSS Customization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tips-and-tricks/fail2ban-jellyfin">fail2ban</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tips-and-tricks/network-letsencrypt">Let&#x27;s Encrypt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tips-and-tricks/migrations">Migrations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tips-and-tricks/monitoring">Monitoring</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Traefik v1.x</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="traefik-v1x"></a>Traefik v1.x<a class="hash-link" href="#traefik-v1x" title="Direct link to heading">#</a></h2><p><a href="https://traefik.io/" target="_blank" rel="noopener noreferrer">Traefik</a> is a modern HTTP reverse proxy and load balancer that makes deploying microservices easy. Traefik integrates with your existing infrastructure components (Docker, Swarm mode, Kubernetes, Marathon, Consul, Etcd, Rancher, Amazon ECS, ...) and configures itself automatically and dynamically. Pointing Traefik at your orchestrator should be the only configuration step you need. This configuration is A+. Test your setup here at <a href="https://www.ssllabs.com/ssltest/" target="_blank" rel="noopener noreferrer">SSLlabs</a>.</p><p>Create docker-compose.yml, traefik.toml and acme.json in the <strong>same</strong> directory or change their paths in the volume section.</p><blockquote><p>[!NOTE]
Ensure you enable Basic Auth protection for Traefik or disable its Dashboard. Otherwise your Dashboard will be accessible from the internet.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> apache2-utils</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">htpasswd -nb username mystrongpassword</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sed</span><span class="token plain"> -e s/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">$/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">$/g</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This command automatically escapes all $ inside the password for the YML file. If using an environment file, it does not need the $ escaped since it will not be interpreted by the shell.</p><p>Create the docker network for traefik.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> docker network create traefik</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="docker-composeyml"></a>docker-compose.yml<a class="hash-link" href="#docker-composeyml" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yml"><div tabindex="0" class="prism-code language-yml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3.5&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">networks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">traefik</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> traefik</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">traefik</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> traefik</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> traefik</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">v1.7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">networks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> traefik</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token datetime number" style="color:rgb(247, 140, 108)">80:80</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 443</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">443</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> /var/run/docker.sock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/var/run/docker.sock</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./traefik.toml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/traefik.toml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./acme.json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/acme.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.enable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.backend</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> traefik</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.docker.network</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> traefik</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.rule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">traefik.example.com</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.entryPoints</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> https</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.passHostHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.SSLForceHost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.SSLHost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> traefik.example.com</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.SSLRedirect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.browserXSSFilter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.contentTypeNosniff</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.forceSTSHeader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.STSSeconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">315360000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.STSIncludeSubdomains</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.STSPreload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.customResponseHeaders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> X</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">Robots</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">Tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">noindex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">nofollow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">nosnippet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">noarchive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">notranslate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">noimageindex</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.frameDeny</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">traefik.frontend.headers.customFrameOptionsValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;allow-from https://example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#     traefik.frontend.auth.basic.users: xxx:xxx</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">stopped</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">jellyfin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> jellyfin/jellyfin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> jellyfin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">network_mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;host&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> /path/to/config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> /path/to/cache</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/cache</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> /path/to/media</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">/media</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">stopped</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This TOML file can&#x27;t support environment variables, so don&#x27;t attempt to use variables.</p><blockquote><p>[!WARNING]
Due to a <a href="https://github.com/containous/traefik/issues/5559" target="_blank" rel="noopener noreferrer">bug</a> in Traefik, you cannot dynamically route to containers when network_mode=host, so we have created a static route to the docker host (172.17.0.1:8096) in <code>traefik.toml</code>. Using host networking (or macvlan) is required to use DLNA or an HdHomeRun as it supports multicast networking.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="traefiktoml"></a>traefik.toml<a class="hash-link" href="#traefiktoml" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly toml"><div tabindex="0" class="prism-code language-toml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">logLevel = &quot;WARN&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">defaultEntryPoints = [&quot;http&quot;, &quot;https&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[entryPoints]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [entryPoints.http]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  address = &quot;:80&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [entryPoints.http.redirect]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    entryPoint = &quot;https&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [entryPoints.https]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  address = &quot;:443&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [entryPoints.https.tls]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    minVersion = &quot;VersionTLS12&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cipherSuites = [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[retry]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[api]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[acme]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">acmeLogging = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">email = &quot;user@example.com&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">storage = &quot;acme.json&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">entryPoint = &quot;https&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [acme.dnsChallenge]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    provider = &quot;provider&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    delayBeforeCheck = &quot;60&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[acme.domains]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  main = &quot;*.example.com&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[docker]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">domain = &quot;example.com&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">network = &quot;traefik&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">exposedbydefault = false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[file]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[backends]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [backends.backend-jellyfin]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [backends.backend-jellyfin.servers]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      [backends.backend-jellyfin.servers.server-1]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        url = &quot;http://172.17.0.1:8096&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[frontends]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  [frontends.jellyfin]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    backend = &quot;backend-jellyfin&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    passHostHeader = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [frontends.jellyfin.routes]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      [frontends.jellyfin.routes.route-jellyfin-ext]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rule = &quot;Host:jellyfin.example.com&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [frontends.jellyfin.headers]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      SSLRedirect = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      SSLHost = &quot;jellyfin.example.com&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      SSLForceHost = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      STSSeconds = 315360000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      STSIncludeSubdomains = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      STSPreload = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      forceSTSHeader = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      frameDeny = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      contentTypeNosniff = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      browserXSSFilter = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      customResponseHeaders = &quot;X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      customFrameOptionsValue = &quot;allow-from https://example.com&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Finally, create an empty acme.json file to handle the certificate.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">touch</span><span class="token plain"> acme.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token plain"> acme.json</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>[!WARNING]
Change example.com to your domain name and update the acme.json file with your email address. Let&#x27;s Encrypt does not require a valid email but example.com will be flagged as fake.</p></blockquote><p>Launch the Traefik and Jellyfin services.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Congratulations, your stack with Traefik and Jellyfin is running!</p><p>Go to the domain you used earlier in the config file and your Jellyfin server will be running with HTTPS (AES 256) enabled.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/jellyfin/jellyfin.org/edit/master/docs/reverse-proxy/traefik.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reverse-proxy/network-reverse-proxy-nginx"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Nginx</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reverse-proxy/network-reverse-proxy-traefik2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Traefik v2.x »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#traefik-v1x" class="table-of-contents__link">Traefik v1.x</a><ul><li><a href="#docker-composeyml" class="table-of-contents__link">docker-compose.yml</a></li><li><a href="#traefiktoml" class="table-of-contents__link">traefik.toml</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a href="https://developer.jellyfin.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community-standards">Community Standards</a></li><li class="footer__item"><a href="https://matrix.to/#/+jellyfin:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix</a></li><li class="footer__item"><a href="https://discord.gg/zHBxVSXdBV" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://reddit.com/r/jellyfin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/getting-help">Getting Help</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li><li class="footer__item"><a href="https://github.com/jellyfin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Check us out on GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Site content is licensed <a href="http://creativecommons.org/licenses/by-nd/4.0/">CC-BY-ND-4.0</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.143f2ea0.js"></script>
<script src="/assets/js/main.11cab31a.js"></script>
</body>
</html>